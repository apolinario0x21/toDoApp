# ToDoApp - Backend

[![Java Version](https://img.shields.io/badge/Java-17-blue.svg)](https://openjdk.org/)
[![Spring Boot](https://img.shields.io/badge/Spring_Boot-3.4.5-green.svg)](https://spring.io/projects/spring-boot)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Docker](https://img.shields.io/badge/Docker-conteinerizado-blue.svg)](https://www.docker.com/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-14.1-orange.svg)](https://www.postgresql.org/)

Uma aplicaÃ§Ã£o Backend robusta para gerenciamento de tarefas, desenvolvida com **Spring Boot** e **Spring Data JPA**, utilizando **PostgreSQL** como banco de dados e **Docker Compose** para orquestraÃ§Ã£o de contÃªineres.

O frontend correspondente em **React** pode ser encontrado no repositÃ³rio: [ToDoApp-Frontend](https://github.com/apolinario0x21/toDoApp_Frontend)

## ğŸš€ Tecnologias Utilizadas
- **Java 17**
- **Spring Boot 3.4.5** e **Spring Data JPA**
- **PostgreSQL** (ProduÃ§Ã£o) / **H2** (Desenvolvimento)
- **Lombok**
- **Docker Compose**
- **JUnit 5** e **Mockito** 
- **Springdoc OpenAPI** (Swagger UI)
- **SLF4J** e **Logback** (para logging)
- **Spring Boot Actuator** (para monitoramento)


## âš™ï¸ ConfiguraÃ§Ã£o e ExecuÃ§Ã£o do Ambiente

### PrÃ©-requisitos
Certifique-se de ter as seguintes ferramentas instaladas em sua mÃ¡quina:
- **Java Development Kit (JDK) 17**
- **Maven**
- **Docker** e **Docker Compose**

### ğŸ“¦ Executando o Projeto com Docker

O projeto Ã© conteinerizado usando Docker Compose. As configuraÃ§Ãµes de banco de dados sÃ£o gerenciadas de forma segura por meio de um arquivo de variÃ¡veis de ambiente (`.env`).

1.  **Configurar Credenciais (SeguranÃ§a)**
    Na raiz do projeto, crie um arquivo chamado `.env` para armazenar as credenciais do banco de dados. **Adicione `.env` ao seu `.gitignore` para nÃ£o expor as credenciais**.

    `.env`
    ```
    POSTGRES_USER=user
    POSTGRES_PASSWORD=password
    POSTGRES_DB=database
    ```

2.  **Executar em Modo de ProduÃ§Ã£o (com PostgreSQL)**
    O `docker-compose.yml` usarÃ¡ as credenciais do seu arquivo `.env` para iniciar o backend e o banco de dados.

    ```bash
    # Para construir a imagem e iniciar os contÃªineres pela primeira vez
    docker-compose up -d --build
    ```
    O backend estarÃ¡ disponÃ­vel em `http://localhost:8080`.


3. **Executar em Modo de Desenvolvimento (com H2)**
    Para rodar com o banco de dados H2 em memÃ³ria, use o arquivo de configuraÃ§Ã£o de desenvolvimento.

    ```bash
    # Pare os contÃªineres atuais
    docker-compose down

    # Construa e inicie o ambiente de desenvolvimento
    docker-compose -f docker-compose.dev.yml up --build
    ```

### ğŸ§ª Testes Automatizados
O projeto conta com uma suÃ­te de testes de unidade implementada com JUnit e Mockito.

1.  **Executar todos os testes**
    ```bash
    mvn test
    ```
    Este comando executa todos os testes localizados na pasta `src/test`.


## ğŸ“ˆ Monitoramento com Spring Boot Actuator
O Actuator foi implementado para fornecer informaÃ§Ãµes sobre a saÃºde e o desempenho da aplicaÃ§Ã£o em tempo real. Ele expÃµe uma sÃ©rie de endpoints REST.

### Endpoints Principais:
- **`GET /actuator/health`**: Verifica o status de saÃºde da aplicaÃ§Ã£o.



## âœ… Funcionalidades
- CRUD completo de tarefas.
- AtualizaÃ§Ã£o de tÃ­tulo e status.
- ValidaÃ§Ãµes com Jakarta Bean Validation.
- API documentada com Swagger.
- Perfil `dev` com H2 e `prod` com PostgreSQL.
- Logging com SLF4J.
- Monitoramento com Spring Boot Actuator.
- Testes de unidade com JUnit e Mockito.


## ğŸ“š DocumentaÃ§Ã£o da API - Tasks
### Endpoints

| MÃ©todo | Endpoint                | DescriÃ§Ã£o                          |
|--------|-------------------------|------------------------------------|
| POST   | `/api/tasks`            | Cria uma nova tarefa               |
| GET    | `/api/tasks`            | Lista todas as tarefas             |
| PUT    | `/api/tasks/{id}`       | Atualiza o tÃ­tulo de uma tarefa    |
| PATCH  | `/api/tasks/{id}`       | Atualiza o status de uma tarefa    |
| DELETE | `/api/tasks/{id}`       | Remove uma tarefa    

## Acessos Ãšteis
- **Swagger UI (DocumentaÃ§Ã£o da API)**: `http://localhost:8080/swagger-ui.html`
- **H2 Console (somente no modo dev)**: `http://localhost:8080/h2-console`
    - JDBC URL: `jdbc:h2:mem:todoapp_db`
    - UsuÃ¡rio: `sa`
    - Senha: (vazio)

## ğŸ“‚ Estrutura do Projeto

```
toDoApp/
â”œâ”€â”€ src/
   â”œâ”€â”€ main/
   â”‚   â”œâ”€â”€ java/
   â”‚   â”‚   â””â”€â”€ apolinario0x21/toDoApp/
   â”‚   â”‚       â”œâ”€â”€ config/
   â”‚   â”‚       â”‚   â”œâ”€â”€ SwaggerConfig.java
   â”‚   â”‚       â”‚   â””â”€â”€ WebConfig.java
   â”‚   â”‚       â”œâ”€â”€ controller/
   â”‚   â”‚       â”‚   â””â”€â”€ TaskController.java
   â”‚   â”‚       â”œâ”€â”€ dto/
   â”‚   â”‚       â”‚   â”œâ”€â”€ TaskRequestDTO.java
   â”‚   â”‚       â”‚   â”œâ”€â”€ TaskResponseDTO.java
   â”‚   â”‚       â”‚   â”œâ”€â”€ TaskStatusUpdateRequestDTO.java
   â”‚   â”‚       â”‚   â””â”€â”€ UpdateTaskTitleDTO.java
   â”‚   â”‚       â”œâ”€â”€ exceptions/
   â”‚   â”‚       â”‚   â”œâ”€â”€ GlobalExceptionHandler.java
   â”‚   â”‚       â”‚   â””â”€â”€ TaskNotFoundException.java
   â”‚   â”‚       â”œâ”€â”€ model/
   â”‚   â”‚       â”‚   â””â”€â”€ Task.java
   â”‚   â”‚       â”œâ”€â”€ repository/
   â”‚   â”‚       â”‚   â””â”€â”€ TaskRepository.java
   â”‚   â”‚       â”œâ”€â”€ service/
   â”‚   â”‚       â”‚   â””â”€â”€ TaskService.java
   â”‚   â”‚       â””â”€â”€ ToDoAppApplication.java
   â”‚   â””â”€â”€ resources/
   â”‚       â”œâ”€â”€ application-dev.properties
   â”‚       â””â”€â”€ application-prod.properties
   â””â”€â”€ test/
       â””â”€â”€ java/
           â””â”€â”€ apolinario0x21/toDoApp/
               â”œâ”€â”€ service/
               â”‚   â””â”€â”€ TaskServiceTest.java
               â””â”€â”€ ToDoAppApplicationTests.java
 
 
```

## ğŸ”® Roadmap
- AutenticaÃ§Ã£o com JWT.
- Sistema de filtros e ordenaÃ§Ã£o de tarefas.

## ğŸ¤ ContribuiÃ§Ã£o
Se vocÃª quiser contribuir, siga as boas prÃ¡ticas de desenvolvimento:
- FaÃ§a um fork do repositÃ³rio.
- Crie uma nova branch para sua feature (`git checkout -b feature/minha-feature`).
- FaÃ§a seus commits.
- Abra um Pull Request.

## LicenÃ§a

Este projeto Ã© distribuÃ­do sob a LicenÃ§a MIT. Veja o arquivo [LICENSE](LICENSE) para mais detalhes.